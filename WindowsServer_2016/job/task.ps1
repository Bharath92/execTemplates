Function task() {
  dir
}

Function main() {
  Try
  {
    task
  }
  Finally
  {
    before_exit
  }
}

main
